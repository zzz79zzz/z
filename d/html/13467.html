<!DOCTYPE html>

<html lang="fa">
<meta content="text/html;charset=utf-8" http-equiv="content-type"/>
<head><title>Calculator: Thrombolysis in Myocardial Infarction (TIMI) score for ST elevation MI in adults</title></head>
<body><section class="course-details-area ptb-60">
<div class="container">
<div class="uptodate2" style="padding:50px 0px 50px 0px;direction: ltr;text-align: left;">
<h1 style="text-align:center">Calculator: Thrombolysis in Myocardial Infarction (TIMI) score for ST elevation MI in adults</h1>
<div class="utdArticleSection" id="topicContentCalculator"><div id="topicText">
<div id="mc3k">
<form action="" id="TIMI_STEMI_form" name="TIMI_STEMI_form" onreset="rrclr(); document.getElementById('inputchk').innerHTML=inputchktxt; " onsubmit="return false;">
<table cellpadding="4" cellspacing="0" summary="EBMcalc Table" width="100%">
<tbody><tr><td bgcolor="#eeeeee" width="1%"><br/></td>
<td align="left" bgcolor="#eeeeee">
<span class="medCalcFontTitleBox">

 
Calculator: Thrombolysis in Myocardial Infarction (TIMI) score for ST elevation MI in adults
</span></td></tr></tbody></table><br/> <br/>
<div id="calc_main">
<div id="calc_input">
<center>
<table cellpadding="3" cellspacing="0" summary="EBMcalc Table">
<tbody><tr><td width="20"><br/></td>
<td align="right" valign="top"><input aria-label="Check this box to indicate DM, history of HTN, or history of angina (1 point)" id="togel1" name="cc1" onclick="TIMI_STEMI_fx();" type="checkbox"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="togCB('togel1');">DM, history of HTN, or history of angina (1 point)</span></td></tr>
<tr><td width="20"><br/></td>
<td align="right" valign="top"><input aria-label="Check this box to indicate Systolic blood pressure less than 100 mmHg (3 points)" id="togel2" name="cc2" onclick="TIMI_STEMI_fx();" type="checkbox"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="togCB('togel2');">Systolic blood pressure less than 100 mmHg (3 points)</span></td></tr>
<tr><td width="20"><br/></td>
<td align="right" valign="top"><input aria-label="Check this box to indicate Heart rate greater than 100 BPM (2 points)" id="togel3" name="cc3" onclick="TIMI_STEMI_fx();" type="checkbox"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="togCB('togel3');">Heart rate greater than 100 BPM (2 points)</span></td></tr>
<tr><td width="20"><br/></td>
<td align="right" valign="top"><input aria-label="Check this box to indicate Killip class II to IV (2 points)" id="togel4" name="cc4" onclick="TIMI_STEMI_fx();" type="checkbox"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="togCB('togel4');">Killip class II to IV (2 points)</span></td></tr>
<tr><td width="20"><br/></td>
<td align="right" valign="top"><input aria-label="Check this box to indicate Body weight less than 150 lb or 67 kg (1 point)" id="togel5" name="cc5" onclick="TIMI_STEMI_fx();" type="checkbox"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="togCB('togel5');">Body weight less than 150 lb or 67 kg (1 point)</span></td></tr>
<tr><td width="20"><br/></td>
<td align="right" valign="top"><input aria-label="Check this box to indicate Anterior lead ST elevation or left BBB (1 point)" id="togel6" name="cc6" onclick="TIMI_STEMI_fx();" type="checkbox"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="togCB('togel6');">Anterior lead ST elevation or left BBB (1 point)</span></td></tr>
<tr><td width="20"><br/></td>
<td align="right" valign="top"><input aria-label="Check this box to indicate Time to treat more than 4 hours (1 point)" id="togel7" name="cc7" onclick="TIMI_STEMI_fx();" type="checkbox"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="togCB('togel7');">Time to treat more than 4 hours (1 point)</span></td></tr>
<tr><td align="left" colspan="3"><span class="medCalcFontCCTabBold">Age </span></td></tr>
<tr><td width="20"><br/></td>
<td align="right"><input aria-label="This button selects an option for: Age. The option is ≥75 years old (3 points)" id="togel8" name="cc8" onclick="TIMI_STEMI_fx();" type="radio"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="setRB('togel8');">≥75 years old (3 points)</span></td></tr>
<tr><td width="20"><br/></td>
<td align="right"><input aria-label="This button selects an option for: Age. The option is 65 to 74 years old (2 points)" id="togel9" name="cc8" onclick="TIMI_STEMI_fx();" type="radio"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="setRB('togel9');">65 to 74 years old (2 points)</span></td></tr>
<tr><td width="20"><br/></td>
<td align="right"><input aria-label="This button selects an option for: Age. The option is Less than 65 years old (0 points)" id="togel10" name="cc8" onclick="TIMI_STEMI_fx();" type="radio"/></td>
<td align="left"><span class="medCalcFontOneClick" onclick="setRB('togel10');">Less than 65 years old (0 points)</span></td></tr>
</tbody></table>
<span class="medCalcFontOne" id="inputchk"><br/> <br/><b>Important:</b> Inputs must be complete to perform calculation. <br/></span>
</center>
</div>
<br/> <br/>
<div id="calc_result">
<span class="medCalcFontCCTabBold">
Total criteria point count:
</span>
<input aria-label="This box holds the total criteria point count" aria-readonly="true" name="cctotal" size="6" type="text"/><br/> <br/>
<center><input name="reset" type="reset" value="Reset form"/> </center>
<br/> <br/>
<div aria-label="This table highlights the result TIMI risk score and predicted 30-day mortality after an MI. No result is highlighted" id="rr1_tag" tabindex="0">
<table cellpadding="4" cellspacing="0" summary="EBMcalc Table" width="100%">
<tbody><tr><td bgcolor="#eeeeee" width="1%"><br/></td>
<td align="left" bgcolor="#eeeeee">
<span class="medCalcFontTitleBox">


TIMI risk score and predicted 30-day mortality after an MI
</span></td></tr></tbody></table><br/> <br/>
</div>
<center>
<table border="1" cellpadding="4" cellspacing="0" summary="RRTable">
<tbody><tr bgcolor="#ffffff">
<td align="center"><span class="medCalcFontOneBold"> TIMI risk score (points)</span></td>
<td align="center"><span class="medCalcFontOneBold">Predicted 30-day mortality following MI</span></td>
</tr>
<tr id="rr1_1"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 0</span></td>
<td align="center"><span class="medCalcFontOne">0.8%</span></td>
</tr>
<tr id="rr1_2"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 1</span></td>
<td align="center"><span class="medCalcFontOne">1.6%</span></td>
</tr>
<tr id="rr1_3"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 2</span></td>
<td align="center"><span class="medCalcFontOne">2.2%</span></td>
</tr>
<tr id="rr1_4"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 3</span></td>
<td align="center"><span class="medCalcFontOne">4.4%</span></td>
</tr>
<tr id="rr1_5"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 4</span></td>
<td align="center"><span class="medCalcFontOne">7.3%</span></td>
</tr>
<tr id="rr1_6"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 5</span></td>
<td align="center"><span class="medCalcFontOne">12%</span></td>
</tr>
<tr id="rr1_7"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 6</span></td>
<td align="center"><span class="medCalcFontOne">16%</span></td>
</tr>
<tr id="rr1_8"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 7</span></td>
<td align="center"><span class="medCalcFontOne">23%</span></td>
</tr>
<tr id="rr1_9"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 8</span></td>
<td align="center"><span class="medCalcFontOne">27%</span></td>
</tr>
<tr id="rr1_10"><td align="center" nowrap="nowrap"><span class="medCalcFontOneBold"> 9 to 14</span></td>
<td align="center"><span class="medCalcFontOne">36%</span></td>
</tr>
</tbody></table>
</center>
<br/> <br/>
</div>
</div>
<div id="calc_notes">
<span class="medCalcFontOneBold">Notes</span>
<ul class="medCalcFontOne">
<li>Entry criteria: Chest pain for more than 30 minutes, ST elevation, symptom onset less than 6 hours, fibrinolytic eligible.</li>
<li><b>DM</b>: diabetes mellitus; <b>HTN</b>: hypertension; <b>BPM</b>: beats per minute; <b>BBB</b>: bundle branch block.</li>
</ul>
</div>
<br/> <br/>
<div id="calc_refs">
<span class="medCalcFontRef"><b>References</b></span>
<ol>
<li><span class="medCalcFontRef"><a href="https://www.ncbi.nlm.nih.gov/pubmed/11044416" style="color: green; text-decoration: none;" target="_blank">Morrow DA, Antman EM, Charlesworth A, et al. TIMI risk score for ST-elevation myocardial infarction: A convenient, bedside, clinical score for risk assessment at presentation: An intravenous nPA for treatment of infarcting myocardium early II trial substudy. Circulation 2000; 102:2031.</a></span></li>
</ol>
</div>
</form>
</div>
<span class="calculatorVendorId" id="T1678215895">
</span></div><div id="printDisclaimer">
<b>Only digits 0 to 9 and a single decimal point (".") are acceptable as numeric inputs. Attempted input of other characters into a numeric field may lead to an incorrect result.</b>
<p>
	Information on this page may not appear correctly if printed. </p>
</div>
<div id="disclaimerCalculator">
<div class="medCalcFontTwo">
<p class="header">Legal Notices and Disclaimer</p>
<p>
			All information contained in and produced by the EBMcalc system is provided
			for educational purposes only. This information should not be used for the diagnosis or treatment
			of any health problem or disease. 
			<b>THIS INFORMATION IS NOT INTENDED TO REPLACE CLINICAL JUDGMENT OR GUIDE INDIVIDUAL PATIENT CARE IN ANY MANNER.</b>
<a class="medCalcDisclaimerLink" href="/legal/ebmcalc-disclaimer">Click here for full notice and disclaimer.</a>
</p>
<p class="copy">EBMcalc is Copyright © 1998-2024 Foundation Internet Services, LLC</p>
</div>
</div><div id="topicVersionRevision">Topic 13467 Version 10.0</div></div>
</div>
</div>
</section><script>
/* <![CDATA[ */


var curelement;

function togCB(thisid){
thischeckbox = document.getElementById(thisid);
if (thischeckbox.checked){ thischeckbox.checked = false; }
else { thischeckbox.checked = true; }
TIMI_STEMI_fx();
}

function setRB(thisid){
document.getElementById(thisid).checked = true;
TIMI_STEMI_fx();
}


/* ]]> */

/* <![CDATA[ */





var inputchktxt = '<br />&nbsp;<br /><b>Important:</b> Inputs must be complete to perform calculation. <br />'


var calctxt = '';
var xmltxt = '';
var xmlresult = '';
var htmtxt = '';
var postNow = false;
var printing = false;
var rbchk = false;


function TIMI_STEMI_fx() {
with(document.TIMI_STEMI_form){

Score = 0.0;
doCalc = true;

if (cc1.checked){
Score = Score + 1;
}
if (cc2.checked){
Score = Score + 3;
}
if (cc3.checked){
Score = Score + 2;
}
if (cc4.checked){
Score = Score + 2;
}
if (cc5.checked){
Score = Score + 1;
}
if (cc6.checked){
Score = Score + 1;
}
if (cc7.checked){
Score = Score + 1;
}
rbchk = false;
if (cc8[0].checked){
rbchk = true; Score = Score + 3; 
}
if (cc8[1].checked){
rbchk = true; Score = Score + 2; 
}
if (cc8[2].checked){
rbchk = true; Score = Score + 0; 
}
if (!rbchk) doCalc = false;
if (doCalc){
cctotal.value = Score;
if (cctotal.value == 'NaN') cctotal.value = '';
}
else{
Score = null;
cctotal.value = '';
if (typeof rrclr == 'function') { rrclr(); };
document.TIMI_STEMI_form.cctotal.value = '';
}

if (doCalc) document.getElementById('inputchk').innerHTML = '';
else document.getElementById('inputchk').innerHTML = inputchktxt;



if (doCalc){
rrclr();
if ((Score >= 0) && (Score <= 0)){ document.getElementById('rr1_1').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 0';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 0';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 0';
interptxt += '\n\nPredicted 30-day mortality following MI: 0.8%';
calctxt += '\n\nPredicted 30-day mortality following MI: 0.8%';
xmltxt += '\nPredicted 30-day mortality following MI: 0.8%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
if ((Score >= 1) && (Score <= 1)){ document.getElementById('rr1_2').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 1';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 1';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 1';
interptxt += '\n\nPredicted 30-day mortality following MI: 1.6%';
calctxt += '\n\nPredicted 30-day mortality following MI: 1.6%';
xmltxt += '\nPredicted 30-day mortality following MI: 1.6%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
if ((Score >= 2) && (Score <= 2)){ document.getElementById('rr1_3').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 2';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 2';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 2';
interptxt += '\n\nPredicted 30-day mortality following MI: 2.2%';
calctxt += '\n\nPredicted 30-day mortality following MI: 2.2%';
xmltxt += '\nPredicted 30-day mortality following MI: 2.2%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
if ((Score >= 3) && (Score <= 3)){ document.getElementById('rr1_4').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 3';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 3';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 3';
interptxt += '\n\nPredicted 30-day mortality following MI: 4.4%';
calctxt += '\n\nPredicted 30-day mortality following MI: 4.4%';
xmltxt += '\nPredicted 30-day mortality following MI: 4.4%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
if ((Score >= 4) && (Score <= 4)){ document.getElementById('rr1_5').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 4';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 4';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 4';
interptxt += '\n\nPredicted 30-day mortality following MI: 7.3%';
calctxt += '\n\nPredicted 30-day mortality following MI: 7.3%';
xmltxt += '\nPredicted 30-day mortality following MI: 7.3%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
if ((Score >= 5) && (Score <= 5)){ document.getElementById('rr1_6').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 5';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 5';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 5';
interptxt += '\n\nPredicted 30-day mortality following MI: 12%';
calctxt += '\n\nPredicted 30-day mortality following MI: 12%';
xmltxt += '\nPredicted 30-day mortality following MI: 12%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
if ((Score >= 6) && (Score <= 6)){ document.getElementById('rr1_7').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 6';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 6';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 6';
interptxt += '\n\nPredicted 30-day mortality following MI: 16%';
calctxt += '\n\nPredicted 30-day mortality following MI: 16%';
xmltxt += '\nPredicted 30-day mortality following MI: 16%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
if ((Score >= 7) && (Score <= 7)){ document.getElementById('rr1_8').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 7';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 7';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 7';
interptxt += '\n\nPredicted 30-day mortality following MI: 23%';
calctxt += '\n\nPredicted 30-day mortality following MI: 23%';
xmltxt += '\nPredicted 30-day mortality following MI: 23%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
if ((Score >= 8) && (Score <= 8)){ document.getElementById('rr1_9').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 8';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 8';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 8';
interptxt += '\n\nPredicted 30-day mortality following MI: 27%';
calctxt += '\n\nPredicted 30-day mortality following MI: 27%';
xmltxt += '\nPredicted 30-day mortality following MI: 27%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
if ((Score >= 9) && (Score <= 14)){ document.getElementById('rr1_10').bgColor = '#8ab2be';
interptxt = '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 9 to 14';
calctxt += '\n\nTIMI risk score and predicted 30-day mortality after an MI:   TIMI risk score (points): 9 to 14';
xmltxt += '\n<Result_Interpretation>\nTIMI risk score and predicted 30-day mortality after an MI:\n TIMI risk score (points): 9 to 14';
interptxt += '\n\nPredicted 30-day mortality following MI: 36%';
calctxt += '\n\nPredicted 30-day mortality following MI: 36%';
xmltxt += '\nPredicted 30-day mortality following MI: 36%\n';
xmltxt = xmltxt + '<\/Result_Interpretation>';
}
document.getElementById('rr1_tag').ariaLabel = interptxt;
interptxt = '';


}
}
}




function rrclr(){
document.getElementById('rr1_1').bgColor = '';
document.getElementById('rr1_2').bgColor = '';
document.getElementById('rr1_3').bgColor = '';
document.getElementById('rr1_4').bgColor = '';
document.getElementById('rr1_5').bgColor = '';
document.getElementById('rr1_6').bgColor = '';
document.getElementById('rr1_7').bgColor = '';
document.getElementById('rr1_8').bgColor = '';
document.getElementById('rr1_9').bgColor = '';
document.getElementById('rr1_10').bgColor = '';
document.getElementById('rr1_tag').ariaLabel = "This table highlights the result TIMI risk score and predicted 30-day mortality after an MI. No result is highlighted"; interptxt = '';
}




/* ]]> */

/* <![CDATA[ */







function loadQueryParams(thisqs){
if (thisqs) alert('Data panel values cannot be transferred to this calculator.');
return;
}


/* ]]> */
</script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="https://medilib.ir/assets/js/jquery.min.js"></script><script src="https://medilib.ir/assets/js/popper.min.js"></script><script src="https://medilib.ir/assets/js/bootstrap.min.js"></script><script src="https://medilib.ir/assets/js/classy-nav.min.js"></script><script src="https://medilib.ir/assets/js/owl.carousel.min.js"></script><script src="https://medilib.ir/assets/js/jquery.magnific-popup.min.js"></script><script src="https://medilib.ir/assets/js/jquery.counterup.min.js"></script><script src="https://medilib.ir/assets/js/waypoints.min.js"></script><script src="https://medilib.ir/assets/js/form-validator.min.js"></script><script src="https://medilib.ir/assets/js/contact-form-script.js"></script><script src="https://medilib.ir/assets/js/main.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-WFDJ5JLM3Q"></script><script>
    window.addEventListener("load", () => {

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function (registrations) {
                //returns installed service workers
                if (registrations.length) {
                    for (let registration of registrations) {
                        if (
                            registration.active.scriptURL.startsWith("/serviceWorker.js") &&
                            !registration.active.scriptURL.endsWith("/serviceWorker.js?v=18")
                        ) {
                            registration.unregister();
                        }
                    }
                }
            });
            navigator.serviceWorker.register('/serviceWorker.js?v=18', {
                scope: '/'
            })
                .then(function (registration) {
                    console.log('Registration successful, scope is:', registration.scope);
                })
                .catch(function (error) {
                    console.log('Service worker registration failed, error:', error);
                });
        }
    });
    const promptElement = document.querySelector('.pwaprompt');
    const footerPromptElement = document.querySelector('#footerPromptElement');
    const scrollTopElement = document.querySelector('.scrolltop');
    // const installButton = promptElement.querySelector('.prompt__install');
    const closeButton = promptElement.querySelector('.prompt__close');
    let installEvent;

    function setWithExpiry(key, value, seconds) {
        const now = new Date()

        // `item` is an object which contains the original value
        // as well as the time when it's supposed to expire
        const item = {
            value: value,
            expiry: now.getTime() + (seconds * 1000),
        }
        localStorage.setItem(key, JSON.stringify(item))
    }

    function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)
        // if the item doesn't exist, return null
        if (!itemStr) {
            return null
        }
        const item = JSON.parse(itemStr)
        const now = new Date()
        // compare the expiry time of the item with the current time
        if (now.getTime() > item.expiry) {
            // If the item is expired, delete the item from storage
            // and return null
            localStorage.removeItem(key)
            return null
        }
        return item.value
    }

    // checks if the localStorage item has been set
    function getVisited() {
        return getWithExpiry('install-prompt')
        // return localStorage.getItem('install-prompt');
    }

    // sets the localStorage item
    function setVisited() {
        fiveDay = 5 * (24 * (60 * 60))
        setWithExpiry('install-prompt', true, fiveDay)
        // localStorage.setItem('install-prompt', true);
    }

    closeButton.addEventListener('click', () => {
        // set localStorage to true
        setVisited();

        // hide the prompt banner
        promptElement.style.display = 'none';
        scrollTopElement.style.bottom = '30px';

        // installEvent = null;
    });
    // Detects if device is on iOS
    const isIos = () => {
        const userAgent = window.navigator.userAgent.toLowerCase();
        return /iphone|ipad|ipod/.test(userAgent);
    }
    // Detects if device is in standalone mode
    const isInStandaloneMode = () => ('standalone' in window.navigator) && (window.navigator.standalone);

    // Checks if should display install popup notification:
    if (isIos() && !isInStandaloneMode()) {
        if (!getVisited()) {
            promptElement.style.display = 'block';
            scrollTopElement.style.bottom = '80px';
        }
        footerPromptElement.style.display = 'block';
    }


    // this event will only fire if the user does not have the pwa installed
    window.addEventListener('beforeinstallprompt', (event) => {
        event.preventDefault();
        // if no localStorage is set, first time visitor
        if (!getVisited()) {
            // show the prompt banner
            promptElement.style.display = 'block';
            scrollTopElement.style.bottom = '80px';

            // store the event for later use

        }
        footerPromptElement.style.display = 'block';
        installEvent = event;

    });
    $(document).on('click', '.prompt__install', function () {
        promptElement.style.display = 'none';
        scrollTopElement.style.bottom = '30px';

        if (isIos() && !isInStandaloneMode()) {
            setVisited();
            $('#iphoneAddToHomeScreen').modal()
        } else {

            // trigger the prompt to show to the user
            installEvent.prompt();
            // check what choice the user made
            installEvent.userChoice.then((choice) => {
                // if the user declined, we don't want to show the button again
                // set localStorage to true
                if (choice.outcome !== 'accepted') {
                    setVisited();
                }

                installEvent = null;
            });
        }

    });
</script><script>

    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-WFDJ5JLM3Q');
</script><script>
      var topicReferences=[];

      function refrence(id) {
          var myReference=Object.values(topicReferences)[id];
          console.log(myReference);
          $("#pmid").attr("href",myReference['pmid']);
          if (typeof myReference['description'] !== 'undefined' && myReference['description']!="") {
            $("#myModalLabel34").html('Description : <p>' + myReference['description'] + "</p>");
          }
          if (typeof myReference['authors'] !== 'undefined' && myReference['authors']!="") {
            $("#referenceAuthors").html('Authors : <p>' + myReference['authors'] + "</p>");
          }
          if (typeof myReference['source'] !== 'undefined' && myReference['source']!="") {
            $("#referenceSource").html('Source : <p>' + myReference['source'] + "</p>");
          }
          if (typeof myReference['title'] !== 'undefined' && myReference['title']!="") {
            $("#referenceTitle").html('Title : <p>' + myReference['title'] + "</p>");
          }
          if (typeof myReference['affiliation'] !== 'undefined' && myReference['affiliation']!="") {
            $("#referenceAffiliation").html('Affiliation : <p>' + myReference['affiliation'] + "</p>");
          }
      }
  </script><script>

      var screenHeight = screen.height;

      if (screenHeight > 700) {
        // $document.getElementById("Uptodate_image").style.width = "100% !important;";
        // $('.Uptodate_image').css('width', '100% !important;');
        console.log("more");
      }else{
        console.log(screenHeight);
      }
    $(document).scroll(function()  {
      var y = $(this).scrollTop();
      if (y > 100) {
        $('.goback').fadeIn();
        $('.buyPackage').fadeIn();
        // alert(document.getElementById('main_menu').style.zIndex);
        document.getElementById("uptodate-area").style.padding = "0px 0 0 0";
        document.getElementById('main_menu').style.zIndex=1;
         document.getElementById('main_menu').style.display="none";
        document.getElementById('navbar_menu').style.marginTop="70px"
        document.getElementById('uptodate-area').style.marginTop="0px"
        document.getElementById('uptodate-area').style.zIndex=999;
        console.log('down');
      } else {
        $('.goback').fadeOut();
        $('.buyPackage').fadeOut();
        document.getElementById("uptodate-area").style.padding = "0px 0 0 0";
        document.getElementById('navbar_menu').style.marginTop="0px"
        document.getElementById('main_menu').style.display="";
        document.getElementById('uptodate-area').style.zIndex=0;
        console.log('up');
      }
    });
    function goBack() {
      window.history.back();
    }
    function buyPackage() {
      window.open("https://medilib.ir/userPanel/package/uptodate/index",'_blank');
    }
  </script></body>
</html>
