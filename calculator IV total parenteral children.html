<!DOCTYPE html>
<html>
<head>
    <title>Calculator IV total parenteral children</title>
</head>
<body>
    <h2>Calculator IV total parenteral children</h2>
    <form id="healthForm">
        <!-- Input fields -->
        <label for="InW">Cân nặng (InW):</label><br>
        <input type="number" id="InW" name="InW"><br>
        <label for="InY">Tuổi (InY):</label><br>
        <input type="number" id="InY" name="InY"><br>
        <label for="Vid">Dịch đã có trong ngày (Vid):</label><br>
        <input type="number" id="Vid" name="Vid"><br>
        <!-- Selection options -->
        <label for="protein">Chế phẩm Protein:</label><br>
        <select id="protein" name="protein">
            <option value="Vaminolac 6,5%">Vaminolac 6,5%</option>
            <option value="Vaminolac 10%">Aminoplasma 10%</option>
        </select><br>
        <label for="lipid">Chế phẩm Lipid:</label><br>
        <select id="lipid" name="lipid">
            <option value="Lipofudin 10%">Lipofudin 10%</option>
            <option value="Lipofudin 20%">Lipofudin 20%</option>
        </select><br>
        <label for="calcium">Chế phẩm Canxi:</label><br>
        <select id="calcium" name="calcium">
            <option value="Growbon 10%">Growbon 10%</option>
            <option value="CaCl2 10%">CaCl2 10%</option>
        </select><br>
        <input type="button" value="Calculate" onclick="calculate()">
    </form>
    <table id="resultTable" border="1">
        <tr>
            <th>Đường truyền</th>
            <th>Tên chất</th>
            <th>Ngày 1</th>
            <th>Ngày 2</th>
            <th>Ngày 3</th>
        </tr>
        <!-- Table rows will be added here -->
    </table>
    <script>
        function calculate() {
            // Get input values
            var InW = parseInt(document.getElementById('InW').value);
            var InY = parseInt(document.getElementById('InY').value);
            var Vid = parseInt(document.getElementById('Vid').value);
            var lipid = document.getElementById('lipid').value;
            var protein = document.getElementById('protein').value;
            var calcium = document.getElementById('calcium').value;
            // Perform calculations
            var V, K, K1 , LP1, VLP1, VtruyenLP, Prt1, VPrt1, Vnacl10, Vkcl10, Vca, Vglu1, Kglu1, mglu1, Vglu10, Vglu30, ALTT1, Cglu1, loaivein;
            if (InW <= 10) {
                V = InW * 100;
            } else if (InW > 10 && InW <= 20) {
                V = 1000 + (InW - 10) * 50;
            } else {
                V = 1500 + (InW - 20) * 20;
            }
            K = V;
            K1 = 0.6 * K
            LP1 = InW;
            if (lipid == "Lipofudin 10%") {
                VLP1 = LP1 / 0.1;
            } else {
                VLP1 = LP1 / 0.2;
            }
            VtruyenLP = VLP1 / 12;
            Prt1 = InW;
            if (protein == "Vaminolac 6,5%") {
                VPrt1 = Prt1 / 0.065;
            } else {
                VPrt1 = Prt1 / 0.1;
            }
            Vnacl10 = (InW * 3) / 1.7;
            Vkcl10 = (InW * 2) / 1.34;
            if (calcium == "Growbon 10%") {
                Vca = InW / 0.46;
            } else {
                Vca = InW / 1.51;
            }
            Vglu1 = V - Vid - VLP1 - VPrt1 - Vnacl10 - Vkcl10 - Vca;
            Kglu1 = K1 - InW * 9 - InW * 4;
            mglu1 = Kglu1 / 4;
            Vglu30 = (mglu1 - 0.1 * Vglu1) / 0.2;
            Vglu10 = Vglu1 - Vglu30;
            ALTT1 = (mglu1 / (V - VLP1)) * 50 + (Prt1 / (V - VLP1)) * 100 + 2 * (InW * 6 * 1000 / (V - VLP1));
            Cglu1 = mglu1 / (V - VLP1);
            if (Cglu1 <= 0.125) {
                loaivein = "Đường truyền ngoại biên";
            } else {
                loaivein = "Đường truyền trung tâm";
            }
            // Display results in table
            var table = document.getElementById('resultTable');
            // Clear previous results
            table.innerHTML = table.rows[0].innerHTML;
            // Add new rows with calculated values
            var row1 = table.insertRow(-1);
            row1.insertCell(0).innerHTML = "Đường truyền 1";
            row1.insertCell(1).innerHTML = lipid;
            row1.insertCell(2).innerHTML = VLP1.toFixed(2) + " ml";
            var row2 = table.insertRow(-1);
            row2.insertCell(0).innerHTML = "Đường truyền 2";
            row2.insertCell(1).innerHTML = loaivein;
            row2.insertCell(2).innerHTML = (V - VLP1).toFixed(2) + " ml";
            var substances = ["Glucose 10%", "Glucose 30%", "NaCl 10%", "KCl 10%", calcium, protein];
            var values = [Vglu10, Vglu30, Vnacl10, Vkcl10, Vca, VPrt1];
            for (var i = 0; i < substances.length; i++) {
                var row = table.insertRow(-1);
                row.insertCell(0).innerHTML = "";
                row.insertCell(1).innerHTML = substances[i];
                row.insertCell(2).innerHTML = values[i].toFixed(2) + " ml";
            }
        }
    </script>
</body>
</html>
